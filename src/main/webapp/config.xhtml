<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>
    <h:outputStylesheet library="css" name="style.css" />

    <h:form id="configurationForm">
        <p:dialog header="Neue Station anlegen" modal="true" widgetVar="dlg">
            <p:panelGrid styleClass="noBorder">
                <p:row>
                    <p:column>
                        <p:outputLabel value="Stationsname: " />
                    </p:column>
                    <p:column>
                        <p:inputText id="newStationField" value="#{configurationView.newStation}" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:commandButton value="Abbrechen"
                                         actionListener="#{configurationView.clearNewStation}"
                                         update="newStationField" oncomplete="PF('dlg').hide()" />
                    </p:column>
                    <p:column styleClass="right">
                        <p:commandButton value="Anlegen"
                                         actionListener="#{configurationView.addNewStation(configurationView.newStation)}"
                                         update="stationsList, newStationField" oncomplete="PF('dlg').hide()" />
                    </p:column>
                </p:row>

            </p:panelGrid>
        </p:dialog>

        <p:growl id="growl" />


        <p:panel header="Einstellungen" style="width: 30em; margin-left: auto; margin-right: auto;">
            <p:panelGrid styleClass="noBorder fill">
                <p:row>
                    <p:column>
                        <p:outputLabel value="Stadt: " for="placeField" />
                    </p:column>
                    <p:column>
                        <p:inputText id="placeField" styleClass="fill"
                                     value="#{configurationView.configurationBean.place}" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel value="Stationen: " for="placeField" />
                    </p:column>

                    <p:column>
                        <div class="gui-grid">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-12">
                                    <p:selectOneListbox id="stationsList" styleClass="fill"
                                                        value="#{configurationView.selectedStation}">
                                        <f:selectItems value="#{configurationView.configurationBean.stations}"
                                                       var="station"
                                                       itemLabel="#{station}" itemValue="#{station}" />
                                    </p:selectOneListbox>
                                </div>
                            </div>

                            <div class="ui-grid-row">
                                <div class="ui-grid-col-6">
                                    <p:commandButton value="Löschen"
                                                     actionListener="#{configurationView.removeStation(configurationView.selectedStation)}"
                                                     icon="ui-icon-circle-minus" update="stationsList" />
                                </div>
                                <div class="ui-grid-col-6 right">
                                    <p:commandButton value="Neu" onclick="PF('dlg').show()"
                                                     icon="ui-icon-circle-plus" />
                                </div>
                            </div>
                        </div>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column colspan="2">
                        <p:separator />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:commandButton value="Löschen" actionListener="#{configurationView.reset}"
                                         icon="ui-icon-trash" update="configurationForm" />
                    </p:column>
                    <p:column styleClass="right">
                        <p:commandButton value="Speichern" actionListener="#{configurationView.save}"
                                         update="growl"
                                         icon="ui-icon-check" />
                    </p:column>
                </p:row>
            </p:panelGrid>
        </p:panel>
    </h:form>
</h:body>
</html>
